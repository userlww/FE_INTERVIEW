#### CDN原理

我们知道一个请求发出来会先经过DNS解析，拿到目标服务器的IP然后获取资源，而在使用了CDN之后，CDN会在域名解析过程中承担一个中间人的角色，它返回的不是IP地址，而是CNAME别名记录，指向CDN的负载均衡
本地DNS向CDN的全局负载均衡系统进行智能调度的时候，会基于以下几点综合判定
- 查看用户的IP地址，查表得知地理位置，找到相对最近的边缘节点
- 看用户所在的运营商网络，找相同网络的边缘节点
- 检查边缘节点的负载情况，找到负载较轻的节点
- 其他还会考虑节点的“健康状况”、服务能力、带宽等等

#### 前端优化手段
- 减少HTTP请求
- 使用HTTP2
- 使用服务端渲染
- 使用CDN
- 合理放置静态资源引入的位置
- 使用iconfont代替图片资源
- 善于使用缓存
- 文件压缩，图片优化
- 减少重绘和重排
- 优化CSS选择器写法
#### websocket建连

- 客户端向Websocket服务端发起一个HTTP请求协商升级协议，得到服务端响应，协议升级成功之后后续的数据交互遵照WebSocket协议，头部的几个关键字段：
  1. Connection: Upgrade：表示要升级协议。
  2. Upgrade: websocket：表示要升级到websocket协议。          
  3. Sec-WebSocket-Version: 13：表示websocket的版本。如果服务端不支持该版本，需要返回一个Sec-WebSocket-Versionheader，里面包含服务端支持的版本号。
  4. Sec-WebSocket-Key：与后面服务端响应首部的Sec-WebSocket-Accept是配套的，提供基本的防护，比如恶意的连接，或者无意的连接。

- 服务端响应协议升级
  1. Connection:Upgrade 
  2. Upgrade: websocket 
  3. Sec-WebSocket-Accept: Oy4NRAQ13jhfONC7bP8dTKb4PTU=

#### 引发重绘和回流的手段

引发回流的手段
- 添加或删除可见的DOM元素
- 元素的位置发生变化
- 元素的尺寸发生变化（包括外边距、内边框、边框大小、高度和宽度等）
- 内容发生变化，比如文本变化或图片被另一个不同尺寸的图片所替代
- 页面一开始渲染的时候（这避免不了）
- 浏览器的窗口尺寸变化（因为回流是根据视口的大小来计算元素的位置和大小的）

**回流必然会重绘，重绘不一定回流**

触发重绘的的场景

- 颜色的修改
- 文本方向的修改
- 阴影的修改

#### 触发BFC的方式

- 根元素，即HTML元素
- 浮动元素：float值为left、right
- overflow值不为 visible，为 auto、scroll、hidden
- display的值为inline-block、inltable-cell、table-caption、table、inline-table、flex、inline-flex、grid、inline-grid
- position的值为absolute或fixed

