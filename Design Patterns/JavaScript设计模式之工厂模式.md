设计模式指的是软件开发人员在开发过程中面临的一般问题的解决方案，是众多软件开发人员经过相当长一段时间的试验和错误总结出来的。设计模式是一套被反复使用的，多人知晓的，经过分类编目的、代码设计经验的总结。

### 设计模式七大原则

#### 开闭原则

开闭原则的定义是在程序设计中，软件中的类、方法、模块等，应该对于扩展是开放的，对于修改是封闭的，当需求增加时，扩展新的代码，而非修改已有的代码。

#### 单一职责原则

一个类，或者一个函数、一个模块，应该只负责一件事情，引起类变化的原因应该只有一个，如果功能过于复杂，应当进行拆分和抽象，每个部分保持独立。

#### 里氏代换原则

任何父类可以出现的地方，子类一定可以出现

#### 依赖倒转原则

面向接口编程，依赖于抽象而不依赖于具体；使用方只关注接口而不关注具体类的实现

#### 接口隔离原则

客户端不应该依赖它不需要的接口；
一个类对另一个类的依赖应该建立在最小的接口上。

#### 合成/聚合复用原则

合成/聚合复用原则（CARP），就是在一个新的对象里面使用一些已有的对象，使之成为新对象的一部分；新的对象通过向这些对象的委派达到复用已有功能的目的。
这个原则的简短表述就是：要尽量使用组合，尽量不要使用继承。

#### 最少知识原则

一个类对于其他类知道的越少越好，就是说一个对象应当对其他对象有尽可能少的了解,只和朋友通信，不和陌生人说话

### 工厂模式

工厂模式定义了一个用于创建对象的接口,这个接口由子类决定实例化哪一个类。该模式使一个类的实例化延迟到了子类。而子类可以重写接口方法以便创建的时候指定自己的对象类型。

```
class Product {
    constructor(name) {
        this.name = name
    }
    init() {
        console.log('init')
    }
    fun() {
        console.log('fun')
    }
}

class Factory {
    create(name) {
        return new Product(name)
    }
}

// use
let factory = new Factory()
let p = factory.create('p1')
p.init()
p.fun()

```
#### 工厂模式使用场景

- 如果不想让某个子系统与较大的那个对象之间形成强耦合，而是想运行时从许多子系统中进行挑选的话，那么工厂模式是一个理想的选择
- 将new操作简单封装，遇到new的时候就应该考虑是否用工厂模式；
- 需要依赖具体环境创建不同实例，这些实例都有相同的行为,这时候我们可以使用工厂模式，简化实现的过程，同时也可以减少每种对象所需的代码量，有利于消除对象间的耦合，提供更大的灵活性


#### 优点

- 创建对象的过程可能很复杂，但我们只需要关心创建结果。
- 构造函数和创建者分离, 符合“开闭原则”
- 一个调用者想创建一个对象，只要知道其名称就可以了。
- 扩展性高，如果想增加一个产品，只要扩展一个工厂类就可以。

#### 缺点

- 添加新产品时，需要编写新的具体产品类,一定程度上增加了系统的复杂度
- 考虑到系统的可扩展性，需要引入抽象层，在客户端代码中均使用抽象层进行定义，增加了系统的抽象性和理解难度

### 参考文档

- [JavaScript设计模式es6（23种)](https://juejin.cn/post/6844904032826294286#heading-5)
