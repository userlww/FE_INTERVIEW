*本质上，webpack是一个现代JavaScript应用程序的静态模块打包器，当webpack处理应用程序时，它会递归的构建一个依赖关系图，其中包含应用程序需要的每个模块，然后将这些模块打包成多个bundle。*
*webpack就像一条生产线，要经过一系列处理流程之后才能将源文件转换成输出结果，这条生产线上的每个处理流程的职责都是单一的，多个流程之间有存在依赖关系，只有完成当前处理后才能交给下一个流程去处理。插件就像是一个插入到生产线的一个功能，在特定的时机对生产线上的资源做处理。webpack通过Tapable来组织这条复杂的生产线。webpack在运行过程中会广播事件，插件只需要监听它所关心的事件，就能加入到这条生产线中的运行。webpack的事件流机制保证了插件的有序性，是的整个系统扩展性很好。 -- 深入浅出webpack 吴浩麟*

### webpack核心概念

#### Entry

入口，标识webpack应该使用哪个模块作为构建其内部依赖图的开始，进入入口后，webpack会找出有哪些模块和库是入口模块（直接和间接）依赖的。每个依赖项随即被处理，最后输出到bundles文件中

#### Output

output属性告诉webpack在哪里输出它所构建的bundle文件。默认为./dist。

#### Module

模块，在Webpack里皆模块，一个模块对应一个文件，Webpack会从配置的entry开始递归找出所有依赖的模块。

#### Chunk

代码块,一个 Chunk 由多个模块组合而成,用于代码合并与分割。

#### Loader

loader 让webpack能够去处理那些非JavaScript文件，loader可以将所有类型的文件转换为webpack能够处理的有效模块，然后就可以利用webpack的打包能力，对其进行处理。

本质上，webpack loader将所有类型的文件，转换为应用程序的依赖图可以直接引用的模块。


#### Plugin

loader被用于转换某些类型的模块，而插件则可以用于执行范围更广的任务。插件的功能极为强大，从打包优化和压缩，到重新定义环境中的变量


### webpack 构建流程

Webpack的运行流程是一个串行的流程，从启动到结束会以下几个流程。

1. 初始化参数：从配置文件和shell语句中读取与合并参数，得出最终的参数。
2. 开始编译：用第一步得到的参数初始化Compiler对象，加载所有配置的插件，执行对象的run方法开始执行编译。
3. 确定入口：根据配置中的entry找出所有入口文件。
4. 编译模块：从入口文件出发，调用所有配置的loader对模块进行翻译，再找出该模块依赖的模块，递归本步骤直到所有入口依赖的文件都经过了这一步处理。
5. 完成模块编译：经过第4步使用Loader翻译完所有模块后，我们得到了每个模块被翻译之后的最终内容和他们之间的依赖关系。
6. 输出资源：根据入口和模块之间依赖关系，组装成一个个包含多个模块的Chunk，再把每个Chunk转换成一个单独的文件加到输出列表。
7. 输出完成：在确定好输出内容之后，根据配置确定输出的路径和文件名，把文件写入文件系统。

### 参考文献

-[webpack打包原理 ? 看完这篇你就懂了 !](https://juejin.cn/post/6844904038543130637)
